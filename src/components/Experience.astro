---
import { getI18N } from '../i18n/utils';

const i18n = getI18N({ astroUrl: Astro.url });
const titleId = "experience-title";
const companyClasses = "text-blue-300 font-semibold mb-2";
---

<section id="experience" class="py-20 px-4 bg-gray-800 fade-in-section" aria-labelledby={titleId}>
    <div class="container mx-auto max-w-5xl">
        <h2 id={titleId} class="text-3xl md:text-4xl font-bold text-center mb-12">
            {i18n.experience.title}
        </h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            {i18n.experience.experiences.map((exp) => (
                <div class="bg-gray-900 p-6 rounded-lg shadow-md border border-gray-700 flex flex-col h-full">
                    <h3 class="text-xl font-bold">{exp.role}</h3>
                    
                    {exp.companyUrl ? (
                        <a
                            href={exp.companyUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            class:list={[companyClasses, "hover:text-blue-400 transition-colors"]}
                            aria-label={`${i18n.experience.companyAriaLabel} ${exp.company}`}
                        >
                            {exp.company}
                        </a>
                    ) : (
                        <p class={companyClasses}>{exp.company}</p>
                    )}

                    <p class="text-sm text-gray-400 mb-4">{exp.period}</p>
                    <p class="text-gray-300 flex-grow">{exp.description}</p>
                </div>
            ))}
        </div>
    </div>
</section>