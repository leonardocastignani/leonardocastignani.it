---
// --- IMPORTS ---
import { getI18N } from '../i18n/utils';
import { SOCIAL_LINKS } from '../consts';

// --- INITIAL CONFIGURATION ---
const i18n = getI18N({ astroUrl: Astro.url });
const buildYear = new Date().getFullYear();
const socialLinks = [
    { 
        href: SOCIAL_LINKS.linkedin, 
        label: "LinkedIn"
    },
    { 
        href: SOCIAL_LINKS.github,
        label: "GitHub"
    },
    { 
        href: SOCIAL_LINKS.instagram,
        label: "Instagram"
    },
    { 
        href: SOCIAL_LINKS.facebook,
        label: "Facebook"
    },
    { 
        href: SOCIAL_LINKS.email, 
        label: "Email"
    }
];
---

<!-- FOOTER SECTION -->
<footer class="bg-gray-900 py-8">
    <div class="container mx-auto max-w-6xl text-center text-gray-400">
        {/* SOCIAL LINKS CONTAINER */}
        <div class="flex justify-center gap-6 mb-4">
            {socialLinks.map(link => (
                <a
                    href={link.href}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="hover:text-white transition-colors text-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 rounded-sm"
                    aria-label={`${i18n.footer.socialAriaLabel} ${link.label}`}
                >
                    {link.label}
                </a>
            ))}
        </div>

        {/* COPYRIGHT NOTICE */}
        <p id="copyright-text">
            {i18n.footer.copyright.replace('{year}', buildYear.toString())}
        </p>
    </div>
</footer>

<!-- CLIENT-SIDE SCRIPTS -->
<script>
    const copyrightElement = document.getElementById('copyright-text');
    if (copyrightElement) {
        const currentYear = new Date().getFullYear().toString();
        copyrightElement.innerText = copyrightElement.innerText.replace(/\d{4}/, currentYear);
    }
</script>