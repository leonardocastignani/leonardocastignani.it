---
// --- IMPORTS ---
import { getI18N } from '../i18n/utils';
import { SOCIAL_LINKS } from '../consts';
import { social } from '../data/social';
import SocialLink from './SocialLink.astro';

// --- INITIAL CONFIGURATION ---
const i18n = getI18N({ astroUrl: Astro.url });
const buildYear = new Date().getFullYear();
---

<!-- FOOTER SECTION -->
<footer class="bg-gray-900 py-8">
    <div class="container mx-auto max-w-6xl text-center text-gray-400">
        {/* SOCIAL LINKS CONTAINER */}
        <div class="flex justify-center items-center gap-4 mb-8 flex-wrap">
            {social.map(({ name, Icon, id }) => (
                <SocialLink 
                    href={SOCIAL_LINKS[id as keyof typeof SOCIAL_LINKS] || '#'} 
                    name={name} 
                    Icon={Icon}
                    ariaLabel={`${i18n.footer.socialAriaLabel} ${name}`}
                />
            ))}
        </div>

        {/* COPYRIGHT NOTICE */}
        <p id="copyright-text">
            {i18n.footer.copyright.replace('{year}', buildYear.toString())}
        </p>
    </div>
</footer>

<!-- CLIENT-SIDE SCRIPTS -->
<script>
    const copyrightElement = document.getElementById('copyright-text');
    if (copyrightElement) {
        const currentYear = new Date().getFullYear().toString();
        copyrightElement.innerText = copyrightElement.innerText.replace(/\d{4}/, currentYear);
    }
</script>